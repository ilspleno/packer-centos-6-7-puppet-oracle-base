# Kickstart file automatically generated by anaconda.

#version=DEVEL
install
url --url http://linux.cc.lehigh.edu/centos/6.7/os/x86_64/
repo --name=epel --baseurl=http://download.fedoraproject.org/pub/epel/6/x86_64/
repo --name=updates --baseurl=http://linux.cc.lehigh.edu/centos/6.7/updates/x86_64/
lang en_US.UTF-8
keyboard us
network --bootproto dhcp --noipv6
rootpw  --iscrypted $6$roCEmlp7ARpN1W6f$TtobGcot9VM99FbJNt0Gp4GRzJCqUWFZyZBb2wU6Sy8u1TQYWY/z4Jlz6r/1gbpHjaxhcPgiKnK2v7qbLtE5I/
firewall --disabled
authconfig --enableshadow --passalgo=sha512
selinux --permissive
timezone --utc America/New_York
bootloader --location=mbr --driveorder=sda --append="crashkernel=auto rhgb"
text
skipx
zerombr
# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
clearpart --all --drives=sda
#Disk partitioning information
part /boot --fstype ext4 --size=500
part pv.01 --size=1 --grow
volgroup vg_vagrant --pesize=4096 pv.01
logvol  /   --vgname=vg_vagrant --name=lv_root --size=25600 --fstype=ext4 --grow
logvol swap --vgname=vg_vagrant --name=lv_swap --size=4096

#part /boot --fstype=ext4 --size=500
#part pv.008002 --grow --size=1
#
#volgroup vg_vagrant --pesize=4096 pv.008002
#logvol / --fstype=ext4 --name=lv_root --vgname=vg_vagrant --size=125992
#logvol swap --name=lv_swap --vgname=vg_vagrant --size=1504

#repo --name="CentOS"  --baseurl=cdrom:sr0 --cost=100
firstboot --disabled
reboot


%packages
@base
@Development Tools
kernel-headers
kernel-devel
wget
%end

%post --log=/root/my-post-log

# vagrant
groupadd vagrant -g 999
useradd vagrant -g vagrant -G wheel -u 900 -s /bin/bash
echo "vagrant" | passwd --stdin vagrant

# sudo
echo "vagrant        ALL=(ALL)       NOPASSWD: ALL" >> /etc/sudoers
sed -i "s/^.*requiretty/#Defaults requiretty/" /etc/sudoers

# Put facter on the path after it's installed
#echo "export PATH=/opt/puppetlabs/bin:\$PATH" > /etc/profile.d/puppet.sh

%end
