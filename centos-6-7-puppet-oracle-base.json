{
	"variables": {
		"atlas_username": "ilspleno",
		"atlas_name": "centos-6-7-puppet-oracle-base"
	},
	"push": {
		"name": "{{user `atlas_username`}}/{{user `atlas_name`}}",
		"vcs": true,
		"exclude": [ "iso/*" ]
	},
	"builders": [
	    {
	      "type": "virtualbox-iso",
	      "boot_command": [
		"<tab> text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg<enter><wait>"
	      ],
	      "boot_wait": "10s",
	      "disk_size": 125000,
	      "guest_os_type": "RedHat_64",
	      "headless": true,
	      "http_directory": "http",
	      "iso_urls": [
		"iso/CentOS-6.7-x86_64-minimal.iso",
		"http://centos.mirrors.hoobly.com/6.7/isos/x86_64/CentOS-6.7-x86_64-minimal.iso"
	      ],
	      "iso_checksum_type": "md5",
	      "iso_checksum": "9381a24b8bee2fed0c26896141a64b69",
	      "ssh_username": "vagrant",
	      "ssh_password": "vagrant",
	      "ssh_port": 22,
	      "ssh_wait_timeout": "10000s",
	      "shutdown_command": "echo 'vagrant'|sudo -S /sbin/halt -h -p",
	      "guest_additions_path": "VBoxGuestAdditions_{{.Version}}.iso",
	      "virtualbox_version_file": ".vbox_version",
	      "vm_name": "packer-centos-6.7-x86_64",
	      "vboxmanage": [
		[
		  "modifyvm",
		  "{{.Name}}",
		  "--memory",
		  "512"
		],
		[
		  "modifyvm",
		  "{{.Name}}",
		  "--cpus",
		  "2"
		]
	      ]
	    }
	],
	"provisioners": [{ "type": "shell", "inline": [
		"sudo yum -y install https://yum.puppetlabs.com/puppetlabs-release-pc1-el-6.noarch.rpm",
		"sudo yum -y install puppet"
	],
	"post-processors": [
		[{
		    "type": "vagrant",
		    "keep_input_artifact": false
		},
		{
		    "type": "atlas",
		    "only": ["virtualbox-iso"],
		    "artifact": "{{user `atlas_username`}}/{{user `atlas_name`}}",
		    "artifact_type": "vagrant.box",
		    "metadata": {
			"provider": "virtualbox",
			"version": "0.0.1"
		    }
		}]
	    ]	
}
